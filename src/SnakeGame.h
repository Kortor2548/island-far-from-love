#ifndef SNAKEGAME_H
#define SNAKEGAME_H // ป้องกันไม่ให้ไฟล์นี้ถูก include ซ้ำหลายครั้ง

#include <windows.h> // ใช้สำหรับควบคุม Console 
#include <conio.h>   // ใช้สำหรับตรวจจับการกดปุ่มแบบ real-time 
#include <vector>    // ใช้เก็บตำแหน่งของงู

class SnakeGame { // ประกาศคลาสหลักของเกมงูทั้งหมด
private: // ส่วนที่ใช้ภายในคลาส SnakeGame เท่านั้น ไม่สามารถเข้าถึงจากภายนอกได้

    enum Direction { LEFT = 1, RIGHT, UP, DOWN };
    // กำหนดทิศทางของงูแบบ (เริ่มจาก 1 เพื่อเลี่ยงค่าดีฟอลต์ 0)

    int width, height;     // ขนาดของหน้าจอเกม (กว้าง x สูง)
    int score;             // คะแนนที่ได้จากการกินผลไม้
    int fruitX, fruitY;    // พิกัดของผลไม้ปัจจุบัน
    Direction dir;         // ทิศทางที่งูกำลังเคลื่อนที่
    bool gameOver;         // true เมื่อเกมจบ (เช่น งูชนตัวเองหรือขอบ)
    std::vector<int> x, y; // เก็บพิกัดของงูแต่ละท่อน (หัวงูอยู่ที่ index 0)

    void gotoxy(int, int);     // ฟังก์ชันสำหรับย้ายเคอร์เซอร์บน console
    void draw();               // วาดสนามเกม งู ผลไม้ และแสดงคะแนน
    void input();              // ตรวจสอบและประมวลผลการกดปุ่มจากผู้เล่น
    void logic();              // ตรวจสอบการชน และการกินผลไม้
    void spawnFruit();         // สุ่มตำแหน่งใหม่ให้ผลไม้
    void updateSnake();        // อัปเดตตำแหน่งของงูโดยการเลื่อนลำตัวตามหัว

public: // ฟังก์ชันที่สามารถเข้าถึงได้จากภายนอก 

    SnakeGame();   // Constructor: ตำแหน่งเริ่มต้นของงู, คะแนนเริ่มต้น, สถานะเกม
    void run();    // เริ่มต้นลูปหลักของเกม: ทำหน้าที่ควบคุมการวาด รับ input อัปเดต และตรวจสอบสถานะเกม
};

#endif // ปิด include guard เพื่อสิ้นสุดการประกาศไฟล์
